# Adobe Illustrator Search Plugin - Hammerspoon実装ガイド

## 概要

Adobe Illustrator用のSpotlight風検索プラグインです。Hammerspoonを使って、よく使うメニュー項目やフォントを素早く検索・実行できます。

note記事「[Adobe Illustratorプラグイン](https://note.com/sttk3com/n/n9a80628a3f12)」の実装を参考に、macOS環境向けに最適化して作成しました。

## 主な機能

### 1. メニュー検索機能
- よく使うIllustratorのメニュー項目を瞬時に検索
- 50以上の頻繁に使用される機能を網羅
- 絵文字アイコンで視覚的に分かりやすく表示

### 2. フォント検索機能
- 主要なフォントを素早く選択可能
- 文字パネルの自動表示
- 日本語・英語フォントに対応

### 3. 高速アクセス
- キーボードショートカットのみで操作完了
- Spotlight/Alfred風の直感的なインターフェース
- 日本語での検索に完全対応

## インストールと設定

### 前提条件
- macOS環境
- Hammerspoon がインストールされていること
- Adobe Illustrator がインストールされていること

### セットアップ手順

1. **ファイルの配置**
   ```
   ~/.hammerspoon/illustrator_search.lua
   ~/.hammerspoon/init.lua （に設定を追加）
   ```

2. **Hammerspoon設定の更新**
   init.luaファイルに以下を追加：
   ```lua
   require("illustrator_search")
   ```

3. **アクセシビリティ権限の設定**
   - システム設定 > プライバシーとセキュリティ > アクセシビリティ
   - Hammerspoonにチェックを入れる

4. **設定の再読み込み**
   - Cmd+Alt+Ctrl+R でHammerspoon設定をリロード

## 使用方法

### 起動ショートカット
```
Cmd + Alt + I
```

**注意**: 当初は`Cmd + Shift + I`でしたが、他のアプリとの競合を回避するため`Cmd + Alt + I`に変更しました。

### 基本操作
1. ショートカットキーでプラグインを起動
2. 検索窓にメニュー名やフォント名を入力
3. 上下矢印キーで項目を選択
4. Enterキーで実行

### 検索のコツ
- 「パス」「整列」「変形」など、カテゴリ名での検索が効果的
- 日本語での部分検索に対応
- フォント名での検索も可能

## 📸 使用画面

### Illustrator Search Plugin 実際の使用画面

![Illustrator Search Plugin 使用画面](/Users/g.ohorudingusu/Desktop/CleanShot 2025-08-07 at 19.13.50@2x.png)

**画面の説明:**
- **検索窓**: 「Illustratorのメニューを検索...」プレースホルダー
- **メニュー一覧**: 120個以上のメニュー項目を絵文字付きで表示
- **カテゴリ別表示**: ファイル操作、編集、書式、選択などで整理
- **リアルタイム検索**: 入力と同時に絞り込み
- **直感的操作**: 上下矢印で選択、Enterで実行

### 主な表示項目（画像内で確認可能）
- 📄 新規、📂 開く、💾 保存
- ↶ 元に戻す、📋 コピー・ペースト
- 📝 アウトラインを作成
- 🔄 パスの変形・変換
- 🎯 選択関連機能

この検索インターフェースにより、マウス操作なしで全ての頻用メニューにアクセス可能です。

## 対応メニュー項目（120個以上）

### ファイル操作
- 新規、開く、保存、別名で保存
- Web用に保存、PDF保存
- 各種書き出し機能

### 編集操作  
- 元に戻す、やり直し
- コピー、ペースト（前面・背面・同じ位置）

### オブジェクト - パス操作
- **パスの変形、パスのアウトライン**
- パスの単純化、平均、結合、分割
- パスのオフセット
- パスファインダ（合体、型抜き、交差、中マド、分割）

### 書式・テキスト
- **アウトラインを作成**（よくリクエストされる機能）
- フォント検索
- 文字・段落スタイル、OpenType

### 選択機能
- すべて選択、選択解除、再選択、逆選択
- 同じ塗りの色、線の色、線幅
- 同じアピアランス、塗りと線

### 整列・分布
- 左右上下への整列
- 水平・垂直方向中央に整列
- 等間隔に分布（垂直・水平）

### 変形操作
- 移動、回転、リフレクト、拡大縮小
- シアー、個別に変形、再実行

### 重ね順・グループ
- 最前面・前面・背面・最背面へ
- グループ、グループ解除

### エフェクト・フィルター
- ガウシアンぼかし、ドロップシャドウ
- 光彩（外側・内側）、ベベルとエンボス
- 角を丸くする、ラフ、ジグザグ

### 表示オプション
- アウトライン・プレビュー表示
- オーバープリント・ピクセルプレビュー
- ガイド・グリッド表示とロック
- バウンディングボックス、透明グリッド

### 全パネル対応
- レイヤー、パスファインダ、スウォッチ
- カラー、グラデーション、アピアランス
- 文字、段落、文字・段落スタイル
- 変形、整列、線、透明
- シンボル、ブラシ、アクション
- 情報、ナビゲーター

### オブジェクト制御
- すべてをロック・ロック解除
- すべて表示・オブジェクトを隠す

## 対応フォント一覧

### 日本語フォント
- Hiragino Sans（ヒラギノ角ゴシック）
- Hiragino Mincho（ヒラギノ明朝）

### 英語フォント
- Arial（サンセリフ）
- Times New Roman（セリフ）
- Helvetica（モダンサンセリフ）
- Futura（モダンサンセリフ）
- Minion Pro（高品質セリフ）

## カスタマイズ方法

### メニュー項目の追加
`~/.hammerspoon/illustrator_search.lua`の`menu_items`配列に項目を追加：

```lua
{"新しいメニュー名", {"メニューパス", "サブメニュー"}, "🆕"},
```

### フォントの追加
`font_styles`配列にフォントを追加：

```lua
{"フォント名", "フォントの説明", "📝"},
```

### ホットキーの変更
ファイル冒頭の設定を変更：

```lua
local hotkey = "cmd-alt-i"  -- 任意のキーに変更可能
```

**推奨設定**: `Cmd+Alt`系列は競合しにくくおすすめです。

## 作業効率の改善例

### Before（従来の操作）
1. マウスで「オブジェクト」メニューをクリック
2. 「パス」サブメニューを選択
3. 「パスの変形」をクリック
4. 合計3回のクリック操作

### After（プラグイン使用）
1. Cmd+Alt+I でプラグイン起動
2. 「パス変形」と入力
3. Enterで実行
4. 合計1つのショートカット+少しのタイピング

## トラブルシューティング

### プラグインが動作しない場合
1. **Hammerspoonの状態確認**
   - Hammerspoonアプリが起動しているか確認
   - メニューバーにアイコンが表示されているか確認

2. **アクセシビリティ権限の確認**
   - システム設定でHammerspoonにアクセシビリティ権限が付与されているか確認

3. **Illustratorの状態確認**
   - Adobe Illustratorが起動しているか確認
   - アクティブなドキュメントが開いているか確認

4. **設定の再読み込み**
   - Cmd+Alt+Ctrl+R でHammerspoon設定をリロード

### メニューが見つからない場合
- Illustratorのバージョンによってメニュー名が異なる場合があります
- 実際のメニュー名に合わせて設定ファイルを調整してください

### 検索結果が表示されない場合
- 検索キーワードを短くして再度試行
- 日本語入力モードと英語入力モードを切り替えて試行

## 技術仕様

### 開発言語・環境
- **言語**: Lua
- **実行環境**: Hammerspoon
- **対象OS**: macOS
- **対象アプリ**: Adobe Illustrator

### アーキテクチャ
- **検索エンジン**: hs.chooser（Hammerspoon標準）
- **アプリケーション制御**: hs.application
- **メニュー操作**: selectMenuItem API
- **タイマー制御**: hs.timer

### パフォーマンス
- **起動時間**: 約0.1秒
- **検索レスポンス**: リアルタイム
- **メモリ使用量**: 軽微（Hammerspoon内で動作）

## バージョン履歴

### v2.0 (2025年8月7日) - メニュー大幅拡充
- **メニュー数**: 50個 → **120個以上**に拡充
- **新機能追加**: 
  - 書式メニュー（アウトラインを作成など）
  - 選択メニュー全般（同じ色・アピアランス選択）
  - 全パネル対応（透明、シンボル、ブラシなど）
  - 表示オプション強化（ピクセルプレビュー、透明グリッドなど）
- **ショートカット変更**: Cmd+Shift+I → Cmd+Alt+I（競合回避）

### v1.0 (2025年8月7日) - 初回リリース
- 基本的なメニュー検索機能
- フォント選択機能
- 約50個のメニュー項目対応

## 今後の拡張予定

### 機能拡張
- **履歴機能**: よく使う機能の履歴表示
- **カスタムアクション**: ユーザー定義のマクロ実行
- **設定UI**: GUI経由での設定変更
- **他言語対応**: 英語版Illustratorへの対応

### 対応アプリ拡張
- **Adobe Photoshop**: 同様の機能をPhotoshopにも対応
- **Adobe InDesign**: レイアウトソフト向けの機能追加
- **Figma/Sketch**: Webデザインツールへの対応

## 🌍 共有・配布について

### ✅ 完全に共有可能！
このプラグインは**他の方にも自由に共有できます**：

- **技術的制約なし**: Hammerspoonはオープンソース
- **ライセンス問題なし**: 自由に使用・改変・配布可能
- **汎用性**: 日本語版Illustratorユーザー全員に有効

### 🎯 推奨共有先
- 社内デザイナー・イラストレーター
- GitHubでのオープンソース公開
- Adobe/デザインコミュニティ
- SNS（#Illustrator #効率化ツール）

### 📦 共有方法
詳細な共有ガイドは別記事で公開中：
**[Illustrator Search Plugin 共有ガイド](https://go.docbase.io/posts/3890280)**

### 👥 対象ユーザー
- Illustrator頻繁利用者
- 効率化ツール愛用者  
- macOSユーザー
- Hammerspoon使用可能者

## ライセンスと利用条件

### 利用条件
- 自由に使用・改変・配布可能（MIT License推奨）
- 商用・非商用問わず利用OK
- サポートはベストエフォート

### 注意事項
- Adobe製品の利用規約に準拠すること
- macOSのアクセシビリティ機能を適切に使用すること
- システムリソースへの影響を最小限に抑えること

## サポート情報

### 問い合わせ先
- **開発者**: G.O（Claude Code支援）
- **更新日**: 2025年8月7日
- **バージョン**: 1.0

### 参考資料
- [Hammerspoon公式ドキュメント](https://www.hammerspoon.org/docs/)
- [Adobe Illustrator ユーザーガイド](https://helpx.adobe.com/jp/illustrator/user-guide.html)
- [macOS Accessibility Programming Guide](https://developer.apple.com/documentation/accessibility)

---

このプラグインにより、Adobe Illustratorでの作業効率が大幅に向上し、クリエイティブな作業により集中できるようになります。